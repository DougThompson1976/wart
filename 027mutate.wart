let $= =
  mac = $args
    if $args
      `(ret $ans ,cadr.$args
         (,$= ,car.$args $ans)
         (= ,@cddr.$args))

mac zap($f $x)
  `(= ,$x (,$f ,$x))

mac push($x $xs)
  `(= ,$xs (cons ,$x ,$xs))

mac pop($xs)
  `(do1
     (car ,$xs)
     (zap cdr ,$xs))
