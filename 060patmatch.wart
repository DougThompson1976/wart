mac matching(vars vals . body)
  `(if (is_match ',vars ,vals)
     (let ,strip_underscores.vars ,vals
      ,@body))



;; Internals

def strip_underscores(vars)
  (if
    !vars
      vars
    list?.vars
      (cons strip_underscores:car.vars strip_underscores:cdr.vars)
    (iso "_" str.vars.0)
      (sym (str.vars 1 nil))
    :else
      vars)
