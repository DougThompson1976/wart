#!/usr/bin/env zsh

if [ $# -eq 0 ]
then
  rlwrap sbcl --noinform --userinit sbclrc --load boot
else
  (
    for i in $*
    do
      echo "(load \"$i\")"
    done
    echo "(quit)"
  ) > .wartbatch
  rlwrap sbcl --noinform --userinit sbclrc --eval '(setf *batch-mode* t)' --load boot --load .wartbatch
  rm .wartbatch
fi
